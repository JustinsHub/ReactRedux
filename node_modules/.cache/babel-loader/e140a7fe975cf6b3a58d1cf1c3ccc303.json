{"ast":null,"code":"import axios from 'axios';\nimport { LOAD_FILM } from \"./types\";\n\nfunction getFilmFromAPI(id) {\n  return async function (dispatch) {\n    const res = await axios.get(`https://swapi.dev/api/films/${id}/`); //destructuring and setting. title and opening_crawl to have different name values.\n\n    let {\n      title: name,\n      director,\n      opening_crawl: openingCrawl,\n      characters,\n      planets\n    } = res.data; //mappings through the API values \n\n    characters = characters.map(url => url.match(/\\d+/)[0]);\n    planets = planets.map(url => url.match(/\\d+/)[0]); //getting values and adding that into our film action payload.\n\n    const film = {\n      id,\n      name,\n      director,\n      openingCrawl,\n      characters,\n      planets\n    };\n    dispatch(gotFilm(film));\n  };\n} //our film action creator.\n\n\nfunction gotFilm(film) {\n  return {\n    type: LOAD_FILM,\n    payload: film\n  };\n}\n\nexport { getFilmFromAPI };","map":{"version":3,"sources":["/Users/anyone/Desktop/Coding/SB Bootcamp/React/react-3/starwarsly/src/actions/films.js"],"names":["axios","LOAD_FILM","getFilmFromAPI","id","dispatch","res","get","title","name","director","opening_crawl","openingCrawl","characters","planets","data","map","url","match","film","gotFilm","type","payload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,SAA1B;;AAGA,SAASC,cAAT,CAAwBC,EAAxB,EAA4B;AAC1B,SAAO,gBAAgBC,QAAhB,EAA0B;AAC/B,UAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,+BAA8BH,EAAG,GAA5C,CAAlB,CAD+B,CAG/B;;AACA,QAAI;AACFI,MAAAA,KAAK,EAAEC,IADL;AAEFC,MAAAA,QAFE;AAGFC,MAAAA,aAAa,EAAEC,YAHb;AAIFC,MAAAA,UAJE;AAKFC,MAAAA;AALE,QAMAR,GAAG,CAACS,IANR,CAJ+B,CAY/B;;AACAF,IAAAA,UAAU,GAAGA,UAAU,CAACG,GAAX,CAAeC,GAAG,IAAIA,GAAG,CAACC,KAAJ,CAAU,KAAV,EAAiB,CAAjB,CAAtB,CAAb;AACAJ,IAAAA,OAAO,GAAGA,OAAO,CAACE,GAAR,CAAYC,GAAG,IAAIA,GAAG,CAACC,KAAJ,CAAU,KAAV,EAAiB,CAAjB,CAAnB,CAAV,CAd+B,CAgB/B;;AACA,UAAMC,IAAI,GAAG;AAAEf,MAAAA,EAAF;AAAMK,MAAAA,IAAN;AAAYC,MAAAA,QAAZ;AAAsBE,MAAAA,YAAtB;AAAoCC,MAAAA,UAApC;AAAgDC,MAAAA;AAAhD,KAAb;AACAT,IAAAA,QAAQ,CAACe,OAAO,CAACD,IAAD,CAAR,CAAR;AACD,GAnBD;AAoBD,C,CAED;;;AACA,SAASC,OAAT,CAAiBD,IAAjB,EAAuB;AACrB,SAAO;AAAEE,IAAAA,IAAI,EAAEnB,SAAR;AAAmBoB,IAAAA,OAAO,EAAEH;AAA5B,GAAP;AACD;;AAGD,SAAShB,cAAT","sourcesContent":["import axios from 'axios';\nimport { LOAD_FILM } from \"./types\";\n\n\nfunction getFilmFromAPI(id) {\n  return async function (dispatch) {\n    const res = await axios.get(`https://swapi.dev/api/films/${id}/`);\n\n    //destructuring and setting. title and opening_crawl to have different name values.\n    let {\n      title: name,\n      director,\n      opening_crawl: openingCrawl,\n      characters,\n      planets\n    } = res.data;\n\n    //mappings through the API values \n    characters = characters.map(url => url.match(/\\d+/)[0]);\n    planets = planets.map(url => url.match(/\\d+/)[0]);\n\n    //getting values and adding that into our film action payload.\n    const film = { id, name, director, openingCrawl, characters, planets };\n    dispatch(gotFilm(film));\n  };\n}\n\n//our film action creator.\nfunction gotFilm(film) {\n  return { type: LOAD_FILM, payload: film };\n}\n\n\nexport { getFilmFromAPI }"]},"metadata":{},"sourceType":"module"}